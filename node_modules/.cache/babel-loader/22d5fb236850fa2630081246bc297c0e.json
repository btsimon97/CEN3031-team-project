{"ast":null,"code":"var _jsxFileName = \"/Users/yosh/Documents/CEN3031-team-project/src/components/AddBuilding.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst AddBuilding = ({\n  currentAppData,\n  setCurrentAppData\n}) => {\n  const [name, setName] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [longitude, setLongitude] = useState(0);\n  const [latitude, setLatitude] = useState(0);\n  const [keyterms, setKeyterms] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/listings/\").then(response => {\n      setCurrentAppData(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  const handleSubmit = event => {\n    let keytermsArr = keyterms.split(\",\");\n    console.log(keytermsArr);\n    event.preventDefault();\n    let newBuilding;\n\n    if (address) {\n      newBuilding = {\n        id: currentAppData.length + 1,\n        code: code,\n        name: name,\n        coordinates: {\n          longitude: longitude,\n          latitude: latitude\n        },\n        address: address,\n        keyterms: keytermsArr\n      };\n    } else {\n      newBuilding = {\n        id: currentAppData.length + 1,\n        code: code,\n        name: name,\n        keyterms: keytermsArr\n      };\n    }\n\n    const newList = [...currentAppData, newBuilding];\n    console.log(newList);\n    setCurrentAppData(newList);\n    axios.post(\"http://localhost:5000/api/listings/\", newBuilding).then(res => console.log(res.data)).then(console.log(\"success!\"));\n    console.log(\"Added!\");\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      position: \"absolute\",\n      left: \"-700px\",\n      top: \"200px\",\n      height: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      fontSize: \"36px\",\n      fontFamily: \"New Times Roman\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \" \", \"Fill out the fields to add a new instrument\", \" \"), \" \", React.createElement(\"input\", {\n    style: {\n      width: \"800px\",\n      height: \"50px\"\n    },\n    type: \"text\",\n    placeholder: \"Enter keyterms \",\n    keyterms: keyterms,\n    onChange: event => setKeyterms(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), \" \", React.createElement(\"input\", {\n    style: {\n      width: \"400px\",\n      height: \"50px\",\n      backgroundColor: \"green\",\n      color: \"white\"\n    },\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), \" \");\n};\n\nexport default AddBuilding;","map":{"version":3,"sources":["/Users/yosh/Documents/CEN3031-team-project/src/components/AddBuilding.js"],"names":["React","useState","useEffect","axios","AddBuilding","currentAppData","setCurrentAppData","name","setName","code","setCode","address","setAddress","longitude","setLongitude","latitude","setLatitude","keyterms","setKeyterms","get","then","response","data","catch","error","console","log","handleSubmit","event","keytermsArr","split","preventDefault","newBuilding","id","length","coordinates","newList","post","res","position","left","top","height","fontSize","fontFamily","width","target","value","backgroundColor","color"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,cAAF;AAAkBC,EAAAA;AAAlB,CAAD,KAA2C;AAC7D,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,CAAD,CAA1C;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AAGAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFgB,GADH,CACO,qCADP,EAEGC,IAFH,CAEQC,QAAQ,IAAI;AAChBf,MAAAA,iBAAiB,CAACe,QAAQ,CAACC,IAAV,CAAjB;AACD,KAJH,EAKGC,KALH,CAKSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAPH;AAQD,GATQ,EASN,EATM,CAAT;;AAWA,QAAMG,YAAY,GAAGC,KAAK,IAAI;AAC5B,QAAIC,WAAW,GAAGZ,QAAQ,CAACa,KAAT,CAAe,GAAf,CAAlB;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYG,WAAZ;AACAD,IAAAA,KAAK,CAACG,cAAN;AACA,QAAIC,WAAJ;;AACA,QAAIrB,OAAJ,EAAa;AACXqB,MAAAA,WAAW,GAAG;AACZC,QAAAA,EAAE,EAAE5B,cAAc,CAAC6B,MAAf,GAAwB,CADhB;AAEZzB,QAAAA,IAAI,EAAEA,IAFM;AAGZF,QAAAA,IAAI,EAAEA,IAHM;AAIZ4B,QAAAA,WAAW,EAAE;AACXtB,UAAAA,SAAS,EAAEA,SADA;AAEXE,UAAAA,QAAQ,EAAEA;AAFC,SAJD;AAQZJ,QAAAA,OAAO,EAAEA,OARG;AASZM,QAAAA,QAAQ,EAAEY;AATE,OAAd;AAWD,KAZD,MAYO;AACLG,MAAAA,WAAW,GAAG;AACZC,QAAAA,EAAE,EAAE5B,cAAc,CAAC6B,MAAf,GAAwB,CADhB;AAEZzB,QAAAA,IAAI,EAAEA,IAFM;AAGZF,QAAAA,IAAI,EAAEA,IAHM;AAIZU,QAAAA,QAAQ,EAAEY;AAJE,OAAd;AAMD;;AACD,UAAMO,OAAO,GAAG,CAAC,GAAG/B,cAAJ,EAAoB2B,WAApB,CAAhB;AAEAP,IAAAA,OAAO,CAACC,GAAR,CAAYU,OAAZ;AACA9B,IAAAA,iBAAiB,CAAC8B,OAAD,CAAjB;AACAjC,IAAAA,KAAK,CACFkC,IADH,CACQ,qCADR,EAC+CL,WAD/C,EAEGZ,IAFH,CAEQkB,GAAG,IAAIb,OAAO,CAACC,GAAR,CAAYY,GAAG,CAAChB,IAAhB,CAFf,EAGGF,IAHH,CAGQK,OAAO,CAACC,GAAR,CAAY,UAAZ,CAHR;AAIAD,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACD,GAlCD;;AAoCA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,QAAQ,EAAEC,YADZ;AAEE,IAAA,KAAK,EAAE;AACLY,MAAAA,QAAQ,EAAE,UADL;AAELC,MAAAA,IAAI,EAAE,QAFD;AAGLC,MAAAA,GAAG,EAAE,OAHA;AAILC,MAAAA,MAAM,EAAE;AAJH,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,MADL;AAELC,MAAAA,UAAU,EAAE;AAFP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMG,GANH,iDAO8C,GAP9C,CATF,EAiBO,GAjBP,EAkBE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAE,OADF;AAELH,MAAAA,MAAM,EAAE;AAFH,KADT;AAKE,IAAA,IAAI,EAAC,MALP;AAME,IAAA,WAAW,EAAE,iBANf;AAOE,IAAA,QAAQ,EAAEzB,QAPZ;AAQE,IAAA,QAAQ,EAAEW,KAAK,IAAIV,WAAW,CAACU,KAAK,CAACkB,MAAN,CAAaC,KAAd,CARhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,EA2BK,GA3BL,EA4BE;AACE,IAAA,KAAK,EAAE;AACLF,MAAAA,KAAK,EAAE,OADF;AAELH,MAAAA,MAAM,EAAE,MAFH;AAGLM,MAAAA,eAAe,EAAE,OAHZ;AAILC,MAAAA,KAAK,EAAE;AAJF,KADT;AAOE,IAAA,IAAI,EAAC,QAPP;AAQE,IAAA,KAAK,EAAC,QARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BF,CADF,EAuCU,GAvCV,CADF;AA2CD,CAnGD;;AAoGA,eAAe7C,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst AddBuilding = ({ currentAppData, setCurrentAppData }) => {\n  const [name, setName] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [longitude, setLongitude] = useState(0);\n  const [latitude, setLatitude] = useState(0);\n  const [keyterms, setKeyterms] = useState([]);\n\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/api/listings/\")\n      .then(response => {\n        setCurrentAppData(response.data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleSubmit = event => {\n    let keytermsArr = keyterms.split(\",\")\n    console.log(keytermsArr);\n    event.preventDefault();\n    let newBuilding;\n    if (address) {\n      newBuilding = {\n        id: currentAppData.length + 1,\n        code: code,\n        name: name,\n        coordinates: {\n          longitude: longitude,\n          latitude: latitude\n        },\n        address: address,\n        keyterms: keytermsArr\n      };\n    } else {\n      newBuilding = {\n        id: currentAppData.length + 1,\n        code: code,\n        name: name,\n        keyterms: keytermsArr\n      };\n    }\n    const newList = [...currentAppData, newBuilding];\n\n    console.log(newList);\n    setCurrentAppData(newList);\n    axios\n      .post(\"http://localhost:5000/api/listings/\", newBuilding)\n      .then(res => console.log(res.data))\n      .then(console.log(\"success!\"));\n    console.log(\"Added!\");\n  };\n\n  return (\n    <div>\n      <form\n        onSubmit={handleSubmit}\n        style={{\n          position: \"absolute\",\n          left: \"-700px\",\n          top: \"200px\",\n          height: \"20px\"\n        }}\n      >\n        <p\n          style={{\n            fontSize: \"36px\",\n            fontFamily: \"New Times Roman\"\n          }}\n        >\n          {\" \"}\n          Fill out the fields to add a new instrument{\" \"}\n        </p>{\" \"}\n        <input\n          style={{\n            width: \"800px\",\n            height: \"50px\"\n          }}\n          type=\"text\"\n          placeholder={\"Enter keyterms \"}\n          keyterms={keyterms}\n          onChange={event => setKeyterms(event.target.value)}\n        />{\" \"}\n        <input\n          style={{\n            width: \"400px\",\n            height: \"50px\",\n            backgroundColor: \"green\",\n            color: \"white\"\n          }}\n          type=\"submit\"\n          value=\"Submit\"\n        />\n      </form>{\" \"}\n    </div>\n  );\n};\nexport default AddBuilding;\n"]},"metadata":{},"sourceType":"module"}