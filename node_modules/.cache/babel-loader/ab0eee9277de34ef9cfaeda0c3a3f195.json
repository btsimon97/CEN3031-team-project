{"ast":null,"code":"var _jsxFileName = \"/Users/yosh/Documents/CEN3031-team-project/src/components/BuildingList.js\";\nimport React, { useState, useEffect } from 'react';\nimport DeleteItem from \"./DeleteItem\";\nimport axios from 'axios';\n\nconst BuildingList = ({\n  filterText,\n  setBuildingSelectedId,\n  selectedBuildingId,\n  currentAppData,\n  setCurrentAppData,\n  setObjectId,\n  building,\n  setBuilding,\n  objectId\n}) => {\n  console.log(currentAppData);\n  let i = 0;\n\n  for (i; i < currentAppData.length; i++) {\n    currentAppData[i].id = i + 1;\n  }\n\n  const buildingList = currentAppData.filter(building => {\n    if (filterText.trim() !== '') {\n      let regExp = new RegExp(escape(filterText.trim().toLowerCase()));\n      let searchText = filterText.split(\",\");\n\n      if (searchText.length > 1) {\n        let multipleSearch = \"\";\n        let j = 0;\n\n        for (; j < searchText.length; j++) {\n          let word = \"(?=.*\" + searchText[j] + \")\";\n          multipleSearch += word.trim().toLowerCase().replace(/ /g, \"\");\n        }\n\n        regExp = new RegExp(multipleSearch + \".+\", \"gi\");\n      }\n\n      console.log(building.keyterms.toString().replace(/,/g, \" \"));\n\n      if (building) {\n        if (regExp.test(building.keyterms.toString().replace(/,/g, \" \").toLowerCase().trim())) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    return true;\n  }).map(directory => {\n    return React.createElement(\"tr\", {\n      style: {\n        fontSize: \"24px\",\n        fontFamily: \"New Times Roman\",\n        textAlign: \"center\"\n      },\n      key: directory._id,\n      onClick: () => {\n        setBuildingSelectedId(directory.id);\n        setBuilding(currentAppData[directory.id - 1]);\n        setObjectId(currentAppData[directory.id - 1]._id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, directory.keyterms.toString(), \" \"), React.createElement(\"button\", {\n      style: {\n        backgroundColor: 'red',\n        color: \"white\",\n        borderRadius: \"25px\"\n      },\n      onClick: () => DeleteItem(currentAppData, setCurrentAppData, selectedBuildingId, objectId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"DELETE\"));\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, buildingList);\n};\n\nexport default BuildingList;","map":{"version":3,"sources":["/Users/yosh/Documents/CEN3031-team-project/src/components/BuildingList.js"],"names":["React","useState","useEffect","DeleteItem","axios","BuildingList","filterText","setBuildingSelectedId","selectedBuildingId","currentAppData","setCurrentAppData","setObjectId","building","setBuilding","objectId","console","log","i","length","id","buildingList","filter","trim","regExp","RegExp","escape","toLowerCase","searchText","split","multipleSearch","j","word","replace","keyterms","toString","test","map","directory","fontSize","fontFamily","textAlign","_id","backgroundColor","color","borderRadius"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport DeleteItem from \"./DeleteItem\";\nimport axios from 'axios';\n\nconst BuildingList = ({filterText, setBuildingSelectedId, selectedBuildingId, currentAppData, setCurrentAppData, setObjectId, building, setBuilding, objectId}) => {\n    console.log(currentAppData)\n\n    let i = 0\n    for (i; i < currentAppData.length; i++) {\n        currentAppData[i].id = i + 1\n    }\n    const buildingList = currentAppData.filter(building => {\n        if (filterText.trim() !== '')\n        {\n            let regExp = new RegExp(escape(filterText.trim().toLowerCase()));\n            let searchText = filterText.split(\",\");\n            if(searchText.length>1){\n                let multipleSearch = \"\";\n                let j = 0;\n                for (; j < searchText.length; j++) {\n                    let word = \"(?=.*\" + searchText[j] + \")\"\n                    multipleSearch += word.trim().toLowerCase().replace(/ /g, \"\");\n                }\n                regExp = new RegExp(multipleSearch + \".+\", \"gi\");\n            }\n            console.log(building.keyterms.toString().replace(/,/g, \" \"))\n            if (building) {\n                if(regExp.test(building.keyterms.toString().replace(/,/g, \" \").toLowerCase().trim())){\n                    return true\n                }\n            }\n            return false\n        }\n        return true\n    }).map(directory => {\n        return (\n            <tr style={{fontSize: \"24px\", fontFamily:\"New Times Roman\", textAlign:\"center\"}} key={directory._id} onClick={() => {\n                setBuildingSelectedId(directory.id)\n                setBuilding(currentAppData[directory.id-1])\n                setObjectId(currentAppData[directory.id-1]._id)\n            }}>\n                <td>{directory.keyterms.toString()} </td>\n                <button style = {{backgroundColor: 'red', color:\"white\",borderRadius: \"25px\"}}\n                        onClick={ () =>  DeleteItem(currentAppData, setCurrentAppData,selectedBuildingId, objectId)}>\n                DELETE\n                </button>\n            </tr>\n        );\n    });\n    return (\n        <div>{buildingList}</div>\n    )\n};\nexport default BuildingList;\n"]},"metadata":{},"sourceType":"module"}